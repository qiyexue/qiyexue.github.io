<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试ios下载附件</title>
  </head>
  <body>
    <div>
      <button onclick="downloadText()">下载文本</button>
      <button onclick="downloadImage()">下载图片</button>
      <button onclick="downloadPdf()">下载pdf</button>
      <button onclick="downloadZip()">下载zip</button>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./js/FileSaver.min.js"></script> -->
    <script src="https://cdn.bootcss.com/vConsole/3.3.0/vconsole.min.js"></script>
    <script src="./JZB-JSSDK-1.0.3.js"></script>
    <script>
      try {
        var vConsole = new VConsole();
      } catch (e) {}
      function downloadText() {
        var blob = new Blob(["Hello, world!"], { type: "text/plain;charset=utf-8" });
        saveAs(blob, "hello world.txt");
      }
      function downloadImage() {
        const options = {
          downloadUrl: 'https://qiyexue.github.io/image.webp',
          name: "image.webp",
          type:'webp',
          callback: function (res) {
            console.log(res);
            if (res.statusCode === 0) {
              alert("附件下载成功！");
            } else {
              alert("附件下载失败！");
            }
          },
        };
        window.jme.file.saveFile(options);
      }
      function downloadPdf() {
        const options = {
          downloadUrl: 'https://qiyexue.github.io/测试iOS附件.pdf',
          name: "测试iOS附件.pdf",
          type:'pdf',
          callback: function (res) {
            console.log(res);
            if (res.statusCode === 0) {
              alert("附件下载成功！");
            } else {
              alert("附件下载失败！");
            }
          },
        };
        window.jme.file.saveFile(options);
      }

      function downloadZip() {
        const options = {
          downloadUrl: 'https://qiyexue.github.io/html.zip',
          name: "html.zip",
          type:'zip',
          callback: function (res) {
            console.log(res);
            if (res.statusCode === 0) {
              alert("附件下载成功！");
            } else {
              alert("附件下载失败！");
            }
          },
        };
        window.jme.file.saveFile(options);
      }
    </script>
  </body>
</html>
